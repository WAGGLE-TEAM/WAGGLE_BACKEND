// buildscript : Gradle 이 빌드되기전 실행되는 설정
buildscript {
    ext {
        queryDslVersion = "5.0.0"
    }
}

// allprojects : 현재의 root 프로젝트와 앞으로 추가될 서브 모듈에 대한 설정
// allprojects {
//
// }

// subprojects : setting.gradle에 include된 모든 프로젝트 관리
subprojects {
    group = 'com.trip'
    version = '0.0.1-SNAPSHOT'

    apply plugin: 'java'
    apply plugin: 'org.springframework.boot'
    apply plugin: 'io.spring.dependency-management'

    sourceCompatibility = '11'

    repositories {
        mavenCentral()
    }

    dependencies {
        // Spring Boot
        implementation 'org.springframework.boot:spring-boot-starter-web'
        implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
        developmentOnly 'org.springframework.boot:spring-boot-devtools'
        testImplementation 'org.springframework.boot:spring-boot-starter-test'

        // lombok
        compileOnly 'org.projectlombok:lombok'
        annotationProcessor 'org.projectlombok:lombok'
        testCompileOnly 'org.projectlombok:lombok'
        testAnnotationProcessor 'org.projectlombok:lombok'
    }
}

project(':waggle-api') {
    dependencies {
        compile project(':waggle-common')
    }
}

project(':waggle-scheduler') {
    dependencies {
        compile project(':waggle-common')
    }
}

project(':waggle-admin') {
    dependencies {
        compile project(':waggle-common')
    }
}

task copyPrivate(type: Copy) {
    copy {
        from './backend-config'
        include "*.yml"
        into 'src/main/resources'
    }
}